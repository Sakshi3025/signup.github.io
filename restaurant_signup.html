<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Restaurant Owner Details Form</title>
    
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .form-container {
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 80%;
        margin-top: 94px;
      }
      .form-container h2 {
        text-align: center;
        margin-bottom: 20px;
        background-color: #16a290;
        padding: 10px;
        margin: 10px;
        border-radius: 5px;
        color: #fff;
      }
      .form-group {
        margin-bottom: 15px;
      }
      .form-group label {
        display: block;
        margin: 2px 10px;
        font-weight: bold;
      }
      .form-group input,
      .form-group textarea,
      .form-group select {
        width: calc(100% - 20px);
        padding: 10px;
        margin: 2px 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
      }
      .form-group textarea {
        resize: vertical;
      }
      .form-group button {
        background-color: #16a290;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
        font-size: 16px;
      }
      .form-group button:hover {
        background-color: #16a290;
      }

      .signupdrop ul {
        display: none;
        position: absolute;
        top: 53px;
        right: 26px;
        background-color: white;
        color: black;
        width: 40vw;
        list-style: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border-radius: 5px;
        padding-left: 0px;
        box-shadow: 6px 5px 12px black;
      }
      .signupdrop {
        display: flex;
        justify-content: space-between;
        background-color: transparent;
        align-items: center;
      }
      .signupdrop ul li {
        width: 100%;
        display: flex;
        justify-content: start;
        align-items: center;
        gap: 9px;
        padding: 10px 0px;
        padding-left: 5px; /* Adjust this value as needed */
        border-radius: 5px;
        box-sizing: border-box; /* Ensure padding is included in width */
        text-align: var(150px);
      }
      .signupdrop ul li a {
        text-decoration: none;
        color: black;
        display: flex;
        justify-content: start;
        gap: 9px;
        align-items: center;
        width: 100%;
      }
      .signupdrop ul li:hover {
        background-color: lightgray;
      }
      .signup-toggle {
        background-color: transparent;
        border: none;
        color: white;
        font-size: 22px;
      }
      .signupdrop ul.show {
        display: flex;
      }

      @media (max-width: 600px) {
        .form-container {
          padding: 15px;
          max-width: 80%;
          margin-top: 94px;
        }
        .form-group input,
        .form-group textarea,
        .form-group select {
          width: calc(100% - 15px);
          padding: 8px;
        }
        .form-group button {
          padding: 8px 16px;
          font-size: 14px;
        }
      }

      /* navbar */

      header {
        background-color: #16a290;
        color: #fff;
        position: fixed;
        width: 100%;
        z-index: 100;
        top: 0;
      }

      .heading {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      nav {
        /* display: flex ; */
        align-items: center;
        padding-left: 5px;
      }

      .logo {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 3px;
      }

      .logo img {
        border-radius: 10px;
      }

      .logo h1 {
        font-size: 17px;
      }

      /* Navigation menu styles */
      .dropdown ul {
        display: none;
        position: absolute;
        top: 68px;
        left: 26px;
        background-color: white;
        color: black;
        width: 40vw;
        list-style: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border-radius: 5px;
        padding-left: 0px;
        box-shadow: 6px 5px 12px black;
        z-index: 10;
      }

      .dropdown {
        display: flex;
        justify-content: space-between;
        background-color: #76e1d3;
        align-items: center;
      }

      .dropdown ul li {
        width: 100%;
        display: flex;
        justify-content: start;
        align-items: center;
        gap: 9px;
        padding: 10px 0px;
        padding-left: 5px;
        /* Adjust this value as needed */
        border-radius: 5px;
        box-sizing: border-box;
        /* Ensure padding is included in width */
        text-align: var(150px);
      }

      .dropdown ul li:hover {
        background-color: lightgray;
      }

      .dropdown ul li a {
        text-decoration: none;
        color: black;
        display: flex;
        justify-content: start;
        gap: 9px;
        align-items: center;
        width: 100%;
      }

      .menu-toggle {
        background-color: transparent;
        border: none;
        color: white;
        font-size: 22px;
      }

      .dropdown ul.show {
        display: flex;
      }

      .Profile {
        width: 20px;
        height: 20px;
        padding-top: 5px;
      }

      li img {
        width: 20px;
        height: 20px;
      }

      .signlog {
        display: flex;
      }

      .signupdrop ul {
        display: none;
        position: absolute;
        top: 32px;
        right: 26px;
        background-color: white;
        color: black;
        width: 40vw;
        list-style: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border-radius: 5px;
        padding-left: 0px;
        box-shadow: 6px 5px 12px black;
      }

      .signupdrop {
        display: flex;
        justify-content: space-between;
        background-color: transparent;
        align-items: center;
      }

      .signupdrop ul li {
        width: 100%;
        display: flex;
        justify-content: start;
        align-items: center;
        gap: 9px;
        padding: 10px 0px;
        padding-left: 5px;
        /* Adjust this value as needed */
        border-radius: 5px;
        box-sizing: border-box;
        /* Ensure padding is included in width */
        text-align: var(150px);
      }

      .signupdrop ul li a {
        text-decoration: none;
        color: black;
        display: flex;
        justify-content: start;
        gap: 9px;
        align-items: center;
        width: 100%;
      }

      .signupdrop ul li:hover {
        background-color: lightgray;
      }

      .signup-toggle {
        background-color: transparent;
        border: none;
        color: white;
        font-size: 10px;
      }
      .signup-toggle a {
        text-decoration: none;
        color: white;
      }
      .signupdrop ul.show {
        display: flex;
      }

      .filters ol {
        display: none;
        position: absolute;
        top: 68px;
        right: 26px;
        background-color: white;
        color: black;
        width: 40vw;
        list-style: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border-radius: 5px;
        padding-left: 0px;
        box-shadow: -6px 5px 12px black;
      }

      .filters ol li {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 9px;
        padding: 10px 0px;
        padding-left: 10px;
        /* Adjust this value as needed */
        padding-right: 10px;
        /* Adjust this value as needed */
        border-radius: 5px;
        box-sizing: border-box;
        /* Ensure padding is included in width */
        text-align: var(150px);
      }

      .filters ol li a {
        text-decoration: none;
        color: black;
        display: inline-block;
      }

      .filter-toggle {
        background-color: transparent;
        border: none;
        color: black;
        font-size: 17px;
      }

      .filters ol.show {
        display: flex;
      }

      .filters ol li:hover {
        background-color: lightgray;
      }

      .login {
        background-color: transparent;
        border: none;
        font-size: 10px;
      }

      .login a {
        text-decoration: none;
        color: white;
      }

      @media screen and (min-width: 700px) {
        .dropdown ul {
          width: 20vw;
          top: 82px;
          left: 40px;
        }

        .dropdown ul li {
          padding-left: 10px;
        }

        .filters ol {
          width: 20vw;
          top: 82px;
          right: 70px;
        }

        .signupdrop ul {
          width: 20vw;
          top: 46px;
          right: 70px;
        }

        .Profile {
          width: 30px;
          height: 30px;
        }

        .login {
          font-size: 17px;
        }

        .signup-toggle {
          font-size: 17px;
        }

        .searchbar {
          width: 70%;
          padding: 7px 5px;
        }
      }

      @media screen and (min-width: 1300px) {
        .dropdown ul {
          width: 10vw;
        }

        .filters ol {
          width: 10vw;
        }

        .signupdrop ul {
          width: 10vw;
        }
      }

      @media (max-width: 480px) {
        .form-container {
          max-width: 100%;
          padding: 10px;
        }
        .form-group input,
        .form-group select,
        .form-group textarea {
          padding: 6px;
        }
        .form-group button {
          padding: 8px;
          font-size: 12px;
        }
      }

      /* Cart */
      .cart-box {
        position: relative;
      }

      .item-In-Cart {
        position: absolute;
        right: 0;
        bottom: 0;
        background-color: red;
        color: white;
        border-radius: 20%;
        font-size: 8px;
        padding: 0px 2px;
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <div class="logo">
          <img width="30" src="images/logo.png" alt="Logo" />
          <h1>KhanaDotCom</h1>
          <div class="signlog">
            <button class="login loginButton">
              <a href="login.html">LogIn</a>
            </button>
            <div class="signupdrop">
              <button class="signup-toggle" id="signup-toggle">
                <a href="restaurant_signup.html">SignUp</a>
              </button>
            </div>
          </div>
        </div>
      </nav>

      <div class="dropdown">
        <button class="menu-toggle" id="menu-toggle">
          <img src="images/Menu.webp" alt="" width="27" />
        </button>
        <ul id="nav-menu" class="mobile-menu">
          <li>
            <a href="index.html"><img src="images/Home.png" alt="" />Home</a>
          </li>
          <li>
            <a href="menu.html"><img src="images/Menu.webp" alt="" />Menu</a>
          </li>
          <li>
            <div class="cart-box">
              <img src="images/Cart.png" alt="" />
              <span class="item-In-Cart" id="itemincart">0</span>
            </div>
            <a href="">Cart</a>
          </li>
          <li>
            <a href="order.html"><img src="images/Order.png" alt="" />Orders</a>
          </li>
          <li>
            <a href="profile.html"
              ><img src="images/Profile.jpg" alt="" />Profile</a
            >
          </li>
          <li>
            <a href="t&c.html"
              ><img src="images/Help.webp" alt="" />Help/Support</a
            >
          </li>
          <li>
            <a href="login.html"
              ><img src="images/Login.png" alt="" /><span class="loginButton"
                >Login</span
              ></a
            >
          </li>
        </ul>
        <div class="filters">
          <button class="filter-toggle" id="filter-toggle">Filters</button>
          <ol id="filter-menu" class="filter-menu">
            <li>Dhaba <input type="checkbox" /></li>
            <li>Most Rated <input type="checkbox" /></li>
            <li>Chinese Retro <input type="checkbox" /></li>
            <li>Subway <input type="checkbox" /></li>
          </ol>
        </div>
      </div>
    </header>

    <div class="form-container">
      <h2>Restaurant Owner Details Form</h2>
      <form onsubmit="handleSubmit(event)">
        <div class="form-group">
          <label for="username">Username</label>
          <input type="text" id="username" name="username" required />
        </div>
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" name="name" required />
        </div>
        <div class="form-group">
          <label for="phone_number">Phone Number</label>
          <input type="tel" id="phone_number" name="phone_number" required />
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <textarea id="address" name="address" required></textarea>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required />
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required />
        </div>
        <div class="form-group">
          <label for="user_type">User Type</label>
          <select id="user_type" name="user_type" required>
            <option value="">Select User Type</option>
            <option value="restaurant_owner">Restaurant Owner</option>
            <option value="delivery_person">Delivery Person</option>
          </select>
        </div>
        <div class="form-group">
          <label for="aadhaar_number">Aadhaar Number</label>
          <input
            type="text"
            id="aadhaar_number"
            name="aadhaar_number"
            required
          />
        </div>

        <div class="form-group">
          <button type="submit">Submit</button>
        </div>
      </form>
    </div>
    <script>
      // navbar
      const navMenu = document.getElementById("nav-menu");
      const filterMenu = document.getElementById("filter-menu");

      document
        .getElementById("menu-toggle")
        .addEventListener("click", function (event) {
          event.stopPropagation();
          navMenu.classList.toggle("show");
          filterMenu.classList.remove("show");
        });

      document
        .getElementById("filter-toggle")
        .addEventListener("click", function (event) {
          event.stopPropagation();
          filterMenu.classList.toggle("show");
          navMenu.classList.remove("show");
        });

      document
        .getElementById("signup-toggle")
        .addEventListener("click", function (event) {
          event.stopPropagation();
          navMenu.classList.remove("show");
          filterMenu.classList.remove("show");
        });

      document.addEventListener("click", function (event) {
        if (
          !navMenu.contains(event.target) &&
          !filterMenu.contains(event.target)
        ) {
          navMenu.classList.remove("show");
          filterMenu.classList.remove("show");
        }
      });

      //register
      async function handleSubmit(event) {
        event.preventDefault();

        const formData = new FormData(event.target);

        const data = {
          username: formData.get("username"),
          name: formData.get("name"),
          phone_number: formData.get("phone_number"),
          address: formData.get("address"),
          email: formData.get("email"),
          password: formData.get("password"),
          user_type: formData.get("user_type"),
          aadhaar_number: formData.get("aadhaar_number") || undefined,
        };

        try {
          const response = await fetch("http://13.201.28.236:8000/signup/", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
          });

          if (!response.ok) {
            const errorText = await response.text();
            console.error("Error response:", errorText);
            throw new Error(
              "Network response was not ok: " + response.statusText
            );
          }

          const result = await response.json();
          console.log("Success:", result);
          alert("Signup successful!");
        } catch (error) {
          console.error("Error:", error);
          alert("An error occurred during signup. Please try again.");
        }
      }
    </script>
  </body>
</html>
